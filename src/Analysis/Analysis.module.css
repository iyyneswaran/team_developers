:root{
  --bg: #f6f8f9;
  --card: rgba(255,255,255,0.98);
  --glass: rgba(255,255,255,0.12);
  --muted: #7b8590;
  --accent: #0f1724;
  --accent-2: #113DFE;
  --radius: 16px;
  --soft-shadow: 0 12px 40px rgba(12,15,20,0.06);
}

/* make box-sizing predictable */
*,
*::before,
*::after {
  box-sizing: border-box;
}

/* page */
.page{
  min-height: 100vh;
  background: var(--bg);
  padding: 24px 18px 120px; /* keep space for bottom nav */
  display:flex;
  flex-direction:column;
  gap:18px;
  align-items:center;
}

/* header */
.header{
  max-width:760px;
  width:100%;
  padding-left:2px;
}
.title{
  font-size:24px;
  color: #0B1320;
  margin-bottom:6px;
}
.subtitle{
  color:var(--muted);
  margin:0;
  font-size:14px;
}

/* center card */
.card{
  width: min(760px, 100%);
  margin: 6px auto;
  background: linear-gradient(180deg, rgba(255,255,255,0.98), rgba(250,250,250,0.96));
  border-radius: 14px;
  padding: 34px 28px;
  box-shadow: var(--soft-shadow);
  border: 1px solid rgba(10,12,16,0.04);
  display:flex;
  flex-direction:column;
  gap:18px;
  align-items:stretch; /* allow children to take full width */
}

/* dropzone */
.dropzone{
  width:100%;
  border-radius:12px;
  padding: 20px;
  cursor:pointer;
  transition: all 180ms ease;
  border: 1px dashed rgba(12,15,20,0.06);
  background: linear-gradient(180deg, rgba(245,248,250,0.9), rgba(250,251,252,0.87));
  display:flex;
  align-items:center;
  justify-content:center;
  box-shadow: 0 6px 18px rgba(10,12,16,0.03), inset 0 1px 0 rgba(255,255,255,0.6);
  overflow:hidden;
}
.dropzone:hover{
  transform: translateY(-4px);
  box-shadow: 0 16px 40px rgba(10,12,16,0.06);
}
.dragActive{
  border-color: rgba(17,61,254,0.18);
  background: linear-gradient(180deg, rgba(240,248,255,0.95), rgba(250,253,255,0.92));
  box-shadow: 0 20px 48px rgba(17,61,254,0.06);
}

.dropInner{
  display:flex;
  gap:18px;
  align-items:center;
  max-width:100%;
  width:100%;
  justify-content:flex-start;
}

.iconWrap{
  width:64px;
  height:64px;
  border-radius:20px;
  display:flex;
  align-items:center;
  justify-content:center;
  background: linear-gradient(180deg, rgba(17,61,254,0.12), rgba(17,61,254,0.06));
  color: var(--accent-2);
  box-shadow: 0 8px 24px rgba(17,61,254,0.06);
  flex-shrink:0;
}

.dropText{
  text-align:left;
  flex:1;
  min-width:0; /* important for proper text truncation/wrapping in flex item */
}
.dropText strong{
  display:block;
  font-size:16px;
  color:var(--accent);
  margin-bottom:6px;
}
.hint{
  display:flex;
  gap:8px;
  align-items:center;
  color:var(--muted);
  font-size:13px;
}

/* visually hide the real file input */
.fileInput{
  display:none;
}

/* preview row */
.previewRow{
  width:100%;
  min-height:86px;
  display:flex;
  gap:12px;
  align-items:center;
  justify-content:flex-start;
  flex-wrap:wrap;
  overflow:auto;
  padding-bottom:4px;
}

.placeholder{
  color:var(--muted);
  padding:8px 12px;
  border-radius:10px;
  background: rgba(10,12,16,0.02);
}

/* thumbnail card */
.thumb{
  width:126px;
  border-radius:12px;
  overflow:hidden;
  background: linear-gradient(180deg, #fff, #fbfbfb);
  box-shadow: 0 10px 30px rgba(10,12,16,0.04);
  border:1px solid rgba(10,12,16,0.04);
  display:flex;
  flex-direction:column;
  gap:6px;
  flex-shrink:0;
}
.thumbImg{
  width:100%;
  height:78px;
  object-fit:cover;
  display:block;
  background:#eee;
}
.thumbMeta{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:8px;
  padding:8px;
}
.fileName{
  font-size:12px;
  color:#111827;
  white-space:nowrap;
  text-overflow:ellipsis;
  overflow:hidden;
  max-width:86px;
}
.removeBtn{
  border:none;
  background:transparent;
  color:#9ca3af;
  cursor:pointer;
  display:flex;
  align-items:center;
  justify-content:center;
}

/* error message */
.error{
  color:#b00020;
  font-size:13px;
  background: rgba(176,0,32,0.04);
  padding:8px 12px;
  border-radius:8px;
  border:1px solid rgba(176,0,32,0.08);
  width:100%;
}

/* actions row */
.actions{
  width:100%;
  display:flex;
  gap:16px;
  align-items:center;
  justify-content:flex-start;
  flex-wrap:wrap;
}

/* fake input and file chooser */
.fakeInput{
  flex:1;
  min-width:0; /* ensure shrink in flex */
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:8px;
  padding:12px 16px;
  border-radius:999px;
  border:1px solid rgba(10,12,16,0.04);
  background: linear-gradient(180deg, #fff, #fbfbfb);
  box-shadow: 0 8px 20px rgba(10,12,16,0.03);
  cursor:pointer;
}
.chooseText{ color:#0b1320; }
.fileCount{ color:var(--muted); font-size:13px; }
.hiddenFileInput{ display:none; }

/* primary button */
.primaryBtn{
  padding:12px 20px;
  border-radius:999px;
  border:none;
  background: #000;
  color:white;
  cursor:pointer;
  box-shadow: 0 12px 36px rgba(17,61,254,0.16);
  transition: transform 140ms ease;
  white-space:nowrap;
}
.primaryBtn:hover{ transform: translateY(-3px); }
.primaryBtn:active{ transform: translateY(-1px); }
.primaryBtn[disabled]{ opacity:0.64; transform:none; cursor:not-allowed; box-shadow:none; }

.btnspan {
  display: flex;
  align-items: center;
  gap: 8px;
}

/* busy state */
.busy{ background: linear-gradient(90deg,#0b1220,#113dfe); }

/* progress */
.progressWrap{ width:100%; display:flex; flex-direction:column; gap:8px; align-items:flex-start; }
.progressBar{
  width:100%;
  height:10px;
  border-radius:999px;
  background: rgba(10,12,16,0.04);
  overflow:hidden;
  border:1px solid rgba(10,12,16,0.02);
}
.progressFill{
  height:100%;
  background: linear-gradient(90deg, #113DFE, #13CBAF);
  width:0%;
  transition: width 520ms ease;
}
.progressLabel{ font-size:13px; color:var(--muted); }

/* result */
.result{
  width:100%;
  margin-top:2px;
  padding:12px 14px;
  border-radius:12px;
  display:flex;
  gap:12px;
  align-items:flex-start;
  background: linear-gradient(180deg, rgba(237,249,237,0.9), rgba(245,255,245,0.9));
  border:1px solid rgba(10,150,80,0.08);
  color:#07411e;
  overflow:hidden;
}
.resultIcon{
  width:44px;
  height:44px;
  border-radius:999px;
  display:flex;
  align-items:center;
  justify-content:center;
  background:rgba(10,150,80,0.12);
  color:#048a3b;
  flex-shrink:0;
}
.resultText{
  flex:1;
  min-width:0; /* necessary for proper wrapping inside flex column */
}
.resultText strong{ display:block; font-weight:700; margin-bottom:6px; }

/* This ensures long analysis text wraps, keeps the card from overflowing and provides scroll if very long */
.resultMsg{
  color:#0b3f2b;
  font-size:14px;
  line-height:1.45;
  white-space: pre-wrap; /* keep user line breaks but wrap long lines */
  word-break: break-word;
  overflow-wrap: anywhere;
  max-height: 260px;
  overflow: auto;
  padding-right:6px;
  margin:0;
}

/* small spinner animation for loader icon */
.spin{ animation: spin 1s linear infinite; }
@keyframes spin { from { transform: rotate(0deg) } to { transform: rotate(360deg) } }

/* responsive tweaks */
@media (max-width: 520px){
  .card{ padding: 22px 16px; }
  .dropInner{ gap:12px; }
  .iconWrap{ width:56px; height:56px; border-radius:16px; }
  .thumb{ width:110px; }
  .primaryBtn{ padding:10px 14px; }
  .resultMsg { max-height: 200px; font-size:13px; }
}
